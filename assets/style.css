@import url("https://fonts.googleapis.com/css2?family=Assistant:wght@400;600;800&family=Heebo:wght@400;600;800&display=swap");

:root{
  --a4w:210mm; --a4h:297mm;
  --pad:14mm;
  --blue:#0b5bd3;
  --text:#111;
  --muted:#555;
  --red:#d11a2a;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  direction:rtl;
  background:#f2f4f7;
  color:var(--text);
  font-family:"David","David Libre","Heebo","Assistant",system-ui,-apple-system,"Segoe UI",Arial;
}
.top{max-width:1100px;margin:14px auto 0;padding:0 12px;color:var(--muted);font-size:13px}
.shell{max-width:1100px;margin:10px auto 24px;padding:0 12px;display:flex;justify-content:center}
.page{
  width:var(--a4w);
  min-height:var(--a4h);
  background:#fff;
  border-radius:18px;
  box-shadow:0 18px 40px rgba(0,0,0,.14);
  position:relative;
  overflow:hidden;
}
.page-inner{padding:var(--pad)}
.title{
  margin:0;
  color:var(--blue);
  font-weight:700;
  font-size:16pt;
  line-height:1.1;
  text-align:right;
}
.ruleline{height:2px;background:var(--blue);width:100%;margin-top:5mm}
.page-no{
  position:absolute;
  left:10mm;
  top:10mm;
  width:11mm;
  height:11mm;
  border-radius:999px;
  border:2px solid var(--red);
  color:var(--red);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  background:#fff;
}
.questions{margin-top:10mm}
.q{margin:10px 0;padding:10px 12px;border:1px solid rgba(0,0,0,.08);border-radius:14px}
.q .head{font-weight:700;margin:0 0 6px}
.q .text{margin:0;line-height:1.6;font-size:14px}
.dot::before{content:"● ";color:#000;font-weight:900}
.lines{margin-top:10px;border-top:1px solid rgba(0,0,0,.12);padding-top:8px}
.line{height:9mm;border-bottom:1px solid rgba(0,0,0,.12)}
a{color:var(--blue);text-decoration:none;font-weight:800}
@page{ size:A4; margin:0; }
@media print{
  body{background:#fff}
  .top{display:none}
  .shell{margin:0;padding:0}
  .page{box-shadow:none;border-radius:0}
}

.btnbar{margin-top:8mm; display:flex; gap:10px; flex-wrap:wrap}
.btn{
  display:inline-block;
  padding:10px 14px;
  border-radius:14px;
  border:1px solid rgba(0,0,0,.10);
  background:#fff;
  font-weight:800;
}
.btn.pdf{border-color: rgba(11,91,211,.25)}
@media print{ .btnbar{display:none !important} }

.graphbox{
  width:100%;
  height:90mm;
  margin-top:8mm;
  border:1px solid rgba(0,0,0,.15);
}

@media print{
  .graphbox{
    break-inside: avoid;
  }
}

/* PRO_A4_POLISH_V1 */
:root{
  --a4-pad: 10mm;
  --blk: #111;
}

@page{ size: A4; margin: 0; }

html,body{ height:100%; }
body{
  color: var(--blk);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}

/* page geometry */
.shell{ padding:0; }
.page{
  width:210mm;
  min-height:297mm;
  margin:0 auto;
  background:#fff;
  position:relative;
}
.page-inner{
  padding: var(--a4-pad);
  box-sizing:border-box;
}

/* header + hierarchy */
.title{
  line-height:1.15;
  margin:0;
}
.lead{
  margin-top:6mm;
  display:flex;
  gap:10mm;
  align-items:stretch;
}
.lead .mini{
  flex:1;
  border:1px solid rgba(0,0,0,.10);
  border-radius:12px;
  padding:8px 10px;
}
.lead .mini .k{ font-weight:800; margin-bottom:2px; }
.lead .mini .v{ line-height:1.45; }

/* questions */
.questions{ margin-top:6mm; }
.q{
  margin-top:6mm;
  padding-top:0;
  break-inside: avoid;
  page-break-inside: avoid;
}
.q .head{ margin:0 0 2mm; font-weight:800; }
.q .text{ margin:0 0 2mm; line-height:1.5; }
.lst{ margin:0 0 3mm; padding:0 20px 0 0; }
.lst li{ margin:0 0 2mm; line-height:1.5; }

/* answer lines (use page space efficiently) */
.lines{ margin-top:3mm; }
.line{
  height:0;
  border-bottom:1px solid rgba(0,0,0,.35);
  margin:6mm 0 0;
}
.lines-2 .line{ margin-top:8mm; }
.lines-5 .line{ margin-top:7mm; }
.lines-6 .line{ margin-top:6mm; }
.lines-7 .line{ margin-top:5.7mm; }

/* hide UI on print */
@media print{
  .btnbar{ display:none !important; }
  .top{ display:none !important; }
  .shell{ padding:0 !important; }
  a{ text-decoration:none; color:inherit; }
}

/* index helpers (auto-added) */
.site{background:#f6f7fb;}
.wrap{max-width:980px;margin:0 auto;padding:24px;}
.top{background:#fff;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.06);padding:20px 18px;}
.title{margin:0 0 8px;font-weight:800;}
.muted{opacity:.75;margin:10px 0 14px;}
.row{display:flex;gap:10px;flex-wrap:wrap;}
.pill{display:inline-flex;align-items:center;justify-content:center;padding:10px 14px;border-radius:999px;background:#f1f3f8;box-shadow:0 6px 16px rgba(0,0,0,.05);}
.pill a{color:inherit;text-decoration:none;font-weight:700;}


/* INDEX_HELPERS_V1 */
.idx-body{ background:#f5f7fa; margin:0; font-family:Heebo,Assistant,Arial,sans-serif; }
.idx-wrap{ min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px; }
.idx-card{ background:#fff; border-radius:18px; padding:22px 20px; max-width:520px; width:100%; box-shadow:0 10px 30px rgba(0,0,0,.08); }
.idx-title{ margin:0 0 8px; font-weight:800; letter-spacing:.2px; }
.idx-sub{ margin:10px 0 14px; color:var(--muted,#5b6573); }
.idx-row{ display:flex; gap:10px; flex-wrap:wrap; }
.idx-pill{ display:inline-flex; align-items:center; justify-content:center; padding:10px 14px; border-radius:999px; border:1px solid rgba(0,0,0,.08); background:#fff; box-shadow:0 4px 14px rgba(0,0,0,.06); }
.idx-pill:hover{ transform:translateY(-1px); }
@media print{ .idx-body{ background:#fff; } .idx-card{ box-shadow:none; border:1px solid #ddd; } }

/* PRINT_ENGINE_PRO_V1 */
/* A4 print-first layout with mm units + baseline rhythm */
:root{
  --a4-w: 210mm;
  --a4-h: 297mm;
  --page-pad: 12mm;          /* שוליים “ספר לימוד” (A) */
  --gutter: 6mm;             /* רווחים פנימיים */
  --base-font: 12pt;
  --base-line: 1.35;         /* baseline rhythm */
  --h1: 18pt;
  --h2: 14pt;
  --muted: #5b6472;
}

@page{
  size: A4;
  margin: 0;
}

html, body{
  height: 100%;
}

body{
  font-family: "Heebo","Assistant",system-ui,-apple-system,"Segoe UI",Arial,sans-serif;
  font-size: var(--base-font);
  line-height: var(--base-line);
}

/* Print container: works even if HTML structure varies */
.sheet, .page, .a4, .print-sheet,
body > .container, body > .wrap, body > .pagewrap, body > .root{
  width: var(--a4-w);
  min-height: var(--a4-h);
  margin: 0 auto;
  box-sizing: border-box;
}

.sheet, .page, .a4, .print-sheet,
body > .container, body > .wrap, body > .pagewrap, body > .root{
  padding: var(--page-pad);
}

/* Prevent ugly breaks */
.q, .card, .box, .section, .block{
  break-inside: avoid;
  page-break-inside: avoid;
}

/* Headings hierarchy */
h1{ font-size: var(--h1); line-height: 1.15; margin: 0 0 6mm; }
h2{ font-size: var(--h2); line-height: 1.15; margin: 0 0 4mm; }
p{ margin: 0 0 3.2mm; }

/* Print: hide buttons/controls, keep content sharp */
@media print{
  .btn, .btnbar, .toolbar, .pill, .nav, .no-print, button, .actions { display:none !important; }
  a{ color: inherit; text-decoration: none; }
  body{ background:#fff !important; }
}

/* Screen polish (safe) */
@media screen{
  body{ background:#f6f8fb; }
  .sheet, .page, .a4, .print-sheet,
  body > .container, body > .wrap, body > .pagewrap, body > .root{
    background:#fff;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,.08);
    margin: 16px auto;
  }
}
